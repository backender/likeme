{% extends "::base_empty.html.twig" %}

{% block stylesheets %}
	
	{{ parent() }}
	
	{% stylesheets filter='cssrewrite'
		'bundles/likemesystem/jcrop/css/jquery.Jcrop.css'
	%}
			
	<link href="{{ asset_url }}" rel="stylesheet" type="text/css">
		
	{% endstylesheets %}
{% endblock %}

{% block body %}

	<img id="target" src="{{ image }}" align="middle" /><br></span>

	<form action="crop.php" method="post" onsubmit="return checkCoords();">
			<input type="hidden" id="x" name="x" />
			<input type="hidden" id="y" name="y" />
			<input type="hidden" id="w" name="w" />
			<input type="hidden" id="h" name="h" />
			<input type="submit" value="Crop Image" />
	</form>
				
	 {% block javascripts %}
	 		{{ parent() }}
	    	{% javascripts 
	    		'bundles/likemesystem/jcrop/js/jquery.Jcrop.min.js'
	    	%}
	    	
	    	<script type="text/javascript" src="{{ asset_url }}"></script>
	    	
	    	{% endjavascripts %}
	    	
	{% endblock %}

	<script language="Javascript">
	    jQuery(function($) {
	        $('#target').Jcrop({
	        	aspectRatio: 1,
	        	onSelect: updateCoords
	        });
	        
	        function updateCoords(c)
			{
				$('#x').val(c.x);
				$('#y').val(c.y);
				$('#w').val(c.w);
				$('#h').val(c.h);
			};
	    });
	</script>
	


{% endblock body %}
